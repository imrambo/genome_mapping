Author: Ian Rambo
ian.rambo@utexas.edu

Read mapping builds with SCons

Map FASTQ reads against an assembly (e.g. genome) in FASTA format.
This script will pair up groups of FASTQ files and map them to an assembly.

###############
Getting Started
###############
Prerequisites: conda, python=3.5, bwa, samtools=1.8, biopython, python-magic

I recommend using a conda environment (either with Miniconda3 or Anaconda) to run this script. You can create the
conda environment using the conda_env_genome_map_scons.yml provided in the repository:

conda env create -f conda_env_genome_map_scons.yml



###############
Running the script
###############
To see the available options for scons, as well as the build, run this in the
same directory as the SConstruct file.

scons -h

Inputs:
--assembly=<a nucleotide FASTA to map reads to>
--sampleids=<sample id patterns of gzipped FASTQ files. Currently,
    files must be gzip compressed. The pattern is searched using a BASH-like glob.
    For FOO.fastq.gz, just pass FOO for this option.
    For multiple files, e.g. FOO.fastq.gz and BAR.fastq.gz, pass:
    FOO,BAR>

Be sure to use all of these included options:
scons --fastq_dir=<path to directory containing fastq files> --assembly=<path to assembly you are mapping to> --outdir=<output directory> --sampleids=<sample id patterns of FASTQ files> --align_thread=<threads for BWA-mem> --samsort_thread=<theads for samtools sort> --samsort_mem=<memory per thread for samtools sort. Specify number and G,M,K> --nslice=<number of FASTQ headers to use for interleave check. Must be >4> --tmpdir=<directory for temporary files>

By default, scons will create a build in the same directory as the SConstruct.
Include the --rm_local_build option to delete this build.
